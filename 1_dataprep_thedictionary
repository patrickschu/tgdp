#make a dictionary ("dicti") that collects all files per speaker

files=os.listdir("test")

for fili in files:
	speakerextract=re.compile("(\d)-(\d+)-(\d+)-(\d+)")
	speaker=speakerextract.findall(fili)[0][1]
	print speaker
	if speaker not in dicti:
		dicti[speaker]=[fili]
		print "adding", speaker
	else:
		dicti[str(speaker)].append(fili)


##sorting the dictionary entries so we get them in chronological order, put them in dicti1

sorter=re.compile("-(\d+)-a.eaf")

for thing in dicti:
	try:
		entry=dicti[thing]
		dicti1[thing]=sorted(entry, key=lambda item: int(sorter.findall(item)[0]))
	except IndexError, err:
		print thing, err
		
